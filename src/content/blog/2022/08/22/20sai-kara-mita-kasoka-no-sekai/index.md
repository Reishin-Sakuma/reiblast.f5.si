---
title: "20歳から見た「仮想化の世界」とは"
description: "約1年4ヶ月ぶりに20歳のレイが帰ってきた。今回はサーバ仮想化について、初めてでもイメージしやすいように、ホント簡単に説明します。"
pubDate: 2022-08-22T22:08:24
slug: 20sai-kara-mita-kasoka-no-sekai
author: reiblast1123
tags: ["仮想化", "サーバー", "インフラエンジニア", "IT"]
draft: false
---

# 20歳から見た「仮想化の世界」とは

<u>「仮想化は初めのイメージが大事。」</u>

どうも、レイと申します。

[前回の投稿](/blog/19sai-kara-mita-network-no-sekai)から約1年4ヶ月。。。。。。

全然やる気なくて草しか生えない(^o^)

まあ、いろいろあったので、、、気晴らしに久しぶりに更新します。

なんか知り合いで見てくれている人がいるらしく、その人の期待に応えてやろう、という上から目線な感情も少しありつつ更新します。

前回の投稿は19歳でしたが、もう20歳になりました。成人です。お酒もタバコも解禁です。タバコ吸おうと思わないし酒飲めないけど。。。

---

さて今回は、サーバ仮想化について。

まず仮想化ってなんぞや、という方がたくさんいると思うので、簡単に、ホント簡単に説明します。

仮想化とは、つまり[こういうこと](https://it-trend.jp/server-virtualization/article/beginners_course)。

というのは少し無責任な気がするのでこのページでも画像を見せながら説明します。

## そもそも仮想化って？

※写真は[サーバ仮想化って何？初心者向けにわかりやすく解説！｜ITトレンド (it-trend.jp)](https://it-trend.jp/server-virtualization/article/beginners_course)よりお借りしました。

今までは、例えばメールサーバはメールサーバとして、データベースサーバだったらデータベースサーバとして、WebサーバだったらWebサーバとして。。。のように、「<u>1システム=1物理サーバ</u>」のような感じでした。システムがあるぶん、物理的にサーバが増えていくんですね。

ですがこの場合、1システム導入するごとに1サーバ購入しないといけません。

そして1サーバぶん置き場所が必要となります。

これが1～3システムくらいならいいと思います。規模の小さい中小企業であれば、会計システムと販売システムとファイルサーバ、くらいでしょうか。

3台でも多いのに、もしこれにウイルス対策サーバだったり、ActiveDirectory(いつか投稿します)サーバだったり、それらをデータ過失を保護するバックアップサーバだったりを導入すると、これだけで4台サーバが増えてしまいます。

(ActiveDirectoryは1台で運用するものではないので、2台として計算しています。)

置き場所だけでなく、電気代も馬鹿になりません。設置場所の電源容量の問題もあります。

そんなとき、**仮想化**っていう技術の出番です。

「仮想」っていう日本語の通り、サーバを専用のソフトウェア(仮想化ソフトや[**ハイパーバイザー**](https://www.idcf.jp/words/hypervisor.html)っていいます)で仮想化、バーチャル化してしまおうという技術で、例えば1台のサーバの中に何台も他のサーバをつくることができるという優れものです。

・・・・イメージできますか？

おそらく、仮想化について初めて触れる人はちんぷんかんぷんになっているかと思いますが、頑張ってイメージしてくださいね。

ちなみに、仮想化したサーバのことを「**仮想マシン**」「**仮想サーバ**」なんて言ったりします。

## 仮想化のメリット

例えば、前述した会計・販売・ファイルSV・ウイルス対策・ActiveDirectory・バックアップを構築したい！と考えた場合。

合計6システムあり、サーバは合計7台必要です。

ちなみにサーバは1台、安くても10万。特価でも7万くらいかな？

それが7台・・・お、計算早いですね。

そーです。70万前後いきます。軽く。💰

ただし、これはあくまでサーバ本体の話。

これにオプション品やらUPS(無停電電源装置。いつか投稿します)やらOSやソフトウェア・システムのライセンス料などがかさむと、**ふつーに100万超えます**。

(´・ω・｀)ｵｿﾛｼｲ･･････

仮想化技術を使えば、これを少ない数の物理サーバで運用することが可能です。

(仮想マシンが中で動作している物理サーバのことを「**仮想ホストサーバ**」っていいます。少なくとも僕は。)

そうすればだいぶコストが抑えられます。

(ライセンス料は仮想化技術を使用する場合、通常の料金とは別の料金体系になっている場合がありますが、物理に比べて大体安くなっているときが多いです。)

ただ、サーバの中にサーバをつくるので、サーバ本体のスペックは多少つよつよなものでなくてはなりませんので、サーバ本体の価格は高くなります。

ですが、全体を見れば安く済むのです。仮想化って素晴らしい。

また、仮想化を使用している環境に新しくシステムを導入したり、サーバを新しく作成したい、となった場合は、仮想マシンをコピーして複製すれば始めっから構築しなくても良いというメリットもあります。

使わなくなったシステムや仮想マシンも削除するだけで良いので、サーバを撤去する作業がいらなくなります。

ただ、デメリットもいくつかあります。

例えば、この仮想化をしている環境を「仮想化システム」「仮想環境」「仮想基盤システム」なんていいますが、この仮想基盤システムが壊れた場合、その環境内の仮想マシンは全員共倒れするかたちで使用不能にある可能性があります。

**「え、そんなのだめじゃん、つかえねー。」**

今そう思った方、残念でした。ちゃんと対策されている仮想化技術も存在します。

が、これ書くと切がなくなるのでまた次の機会に書きたいと思います。

## ハイパーバイザーの種類

仮想化、入社してからたくさん触ってきました。

MicrosoftのWindowsServerであれば**Hyper-V**と呼ばれるハイパーバイザーが存在し、なんと、仮想ホストサーバのWindowsServerライセンスが16coreライセンスの場合、仮想マシン2台ぶんは追加ライセンスなしで作成できます！要するに、1台分のOSライセンスで3台分構築できるという太っ腹なライセンス体系なんです。

Hyper-Vでつくる仮想環境も、簡単な環境であればすぐに準備可能です。なんなら、お使いのPCがWindows10Proだった場合も使用できます。

(Windows10Proで追加ライセンス無しで作成できる仮想マシン数は未確認です。試すときはライセンス違反のないようにね！)

他にも、仮想化技術に特化した会社である**VMware社**の**vSphere ESXi**っていうのもあり、これは複数の仮想ホストサーバを「クラスタ」として一つにまとめ運用するものです。

(細かく言うとHyper-Vもクラスタ組めるけど。。。僕はやったことない。)

例えば仮想ホストサーバ3台でクラスタを組んで、その上で仮想マシンを3台ずつ動かして計9台動かすとする。

仮想ホストサーバの3号機がぶっ壊れてしまった！！！っていうときに、他の2台がそれを検知して壊れた3号機の上で動作していた仮想マシンを自動的に1号機や2号機で起動させてくれるという便利な動きをしてくれて、ダウンタイム(業務が止まっている時間、っていう考えで良いと思う)を最小限にしてくれる機能があります。この機能は良く「HA」って言ったりします。

あとはHCIという比較的新たな仮想環境のリーダー企業とも言える**Nutanix社**の<strong>Nutanix(AHV)</strong>も最近触りました。HCIについてはまた後日。

## 仮想化っていいゾ

めちゃくちゃ長くなりましたが、とにかく仮想化はいいことがたくさんあります。

もしサーバエンジニア目指しているなら、この記事読んでイメージつかんでおいたほうが良いかもです。

次は何書こうかな・・・

書いてほしいことあったらコメントください。
